# Agents

This document outlines the AI agents and automation tools used in the DRIG (De Rest Is Geschiedenis) project.

## Project Overview

This project is a website that is generated by transforming the XML podcast data into a static HTML website using XSLT transformations. The site features:

- Podcast episode listings with embedded audio players
- RSS feed generation for podcast distribution
- Responsive design with SCSS styling
- Automated build process for HTML, CSS, and XML generation

## Development Agents

### Build Automation Agent
- **Purpose**: Automates the transformation of source files into production-ready website
- **Tools**: XSLT3, Dart Sass, minify-xml
- **Triggers**: 
  - `npm run build` - Full build process
  - `npm run build:html` - HTML generation from XML/XSLT
  - `npm run build:scss` - CSS compilation from SCSS
  - `npm run build:xml` - XML minification
  - `npm run build:xsl` - XSL minification

### Development Server Agent
- **Purpose**: Provides local development environment with live reload
- **Tools**: lite-server, browser-sync
- **Commands**: `npm start` or `npm run lite`
- **Port**: 10001

## Content Management Agents

### Podcast Feed Generator
- **Source**: `src/podcast-source.xml`
- **Output**: `podcast.xml` (minified)
- **Function**: Maintains RSS feed for podcast distribution
- **Features**:
  - iTunes/Apple Podcasts compatibility
  - Spotify integration support
  - Media enclosures for audio files
  - Episode metadata management

### Episode Metadata Extraction Agent
- **Purpose**: Automatically extracts technical metadata from new episode audio files
- **Tools**: ffprobe (for duration), stat (for file size)
- **Process**:
  1. Extract duration in seconds from MP3 file using ffprobe
  2. Get file size in bytes using stat
  3. Convert duration to HH:MM:SS format for iTunes
  4. Update RSS feed with extracted metadata
- **Metadata Fields Updated**:
  - `media:content duration` - Duration in seconds
  - `enclosure length` - File size in bytes
  - `itunes:duration` - Human-readable duration (HH:MM:SS)
- **Frequency**: Run for each new episode added to the `episodes/` folder

### Website Content Transformer
- **Source**: `src/podcast-source.xml` + `src/style-source.xsl`
- **Output**: `index.html`
- **Function**: Generates static website from podcast data
- **Features**:
  - Episode listing with audio players
  - Responsive episode covers
  - Publication date formatting
  - Duration display

## Styling Agents

### SCSS Compiler
- **Source**: `style/index.scss` (imports other SCSS files)
- **Output**: `style.css` (compressed)
- **Dependencies**:
  - `style/base.scss`
  - `style/page.scss`
  - `style/posts.scss`
  - `style/textlink.scss`
  - `style/values.scss`

## Quality Assurance Agents

### XML Minification
- **Purpose**: Optimizes XML and XSL files for production
- **Tool**: minify-xml
- **Benefits**: Reduced file size, faster loading

## Future Agent Considerations

### Potential Automation Opportunities
1. **Episode Upload Agent**: Automate episode file processing and metadata extraction
2. **Social Media Agent**: Auto-post new episodes to social platforms
3. **Analytics Agent**: Track website and podcast performance metrics
4. **SEO Agent**: Generate structured data and optimize meta tags
5. **Accessibility Agent**: Ensure WCAG compliance and transcript generation

### Integration Possibilities
- GitHub Actions for CI/CD
- Content Management System integration
- Podcast hosting platform APIs
- Analytics and monitoring tools

## Configuration

All agent configurations are defined in:
- `package.json` - npm scripts and dependencies
- `src/style-source.xsl` - XSLT transformation rules
- `style/` directory - SCSS configuration and variables
- `episodes` - Holds all media for each episode

## Usage

To activate all agents in the build pipeline:
```bash
npm ci          # Install dependencies
npm run build   # Run all build agents
npm start       # Start development server agent
```

For individual agent execution, see the scripts section in `package.json`.